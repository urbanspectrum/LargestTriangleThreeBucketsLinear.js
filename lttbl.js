function lttbl(r,a){var o=r.length;if(a>=o||0===a)return r;var t,f,e,h=[],l=0,n=(o-2)/(a-2),v=0;h[l++]=r[v];for(var M=0;M<a-2;M++){for(var u,g=0,i=0,s=Math.floor((M+1)*n)+1,c=(u=(u=Math.floor((M+2)*n)+1)<o?u:o)-s;s<u;s++)g+=s,i+=1*r[s];g/=c,i/=c;for(var T=Math.floor((M+0)*n)+1,b=Math.floor((M+1)*n)+1,k=1*v,B=1*r[v],d=f=-1;T<b;T++)(f=.5*Math.abs((k-g)*(r[T]-B)-(k-T)*(i-B)))>d&&(d=f,t=r[T],e=T);h[l++]=t,v=e}return h[l++]=r[o-1],h}
